import React, { Component } from 'react'
import { ActionList, ActionIcon, NavClamp } from '../../../Elements/NavBar/navBar'
import { Profile } from '../../../Views/App/TopNav/Profile/profile'
import { Brand } from '../../../Elements/NavBar/navBar.brand'
import styled from '@emotion/styled'
import { withLocalize } from 'react-localize-redux'
import { Inbox } from '../../../Views/App/TopNav/Inbox/inbox.container'

const NavClampMin = styled(NavClamp)`
  grid-template-columns: auto 200px;
`
const NavLayout = NavClampMin

class NavMinClass extends Component {
  /* Render
  ------------------------------------------------------- */
  render() {
    const {
      isPremium,
      profile_uid,
      profile_avatar,
      profile_first_name,
      profile_username,
      activeTheme,
      themeChange,
      enterSearchMode,
      enterBulkEditMode,
      enterAddUrlMode,
      toggleSideNav,
      enterListMode,
      enterGridMode,
      setSortByOldest,
      setSortByNewest,
      openWhatsNew,
      translate,
      listMode,
      sort
    } = this.props

    return (
      <NavLayout>
        <ActionList>
          <ActionIcon
            action={toggleSideNav}
            icon="Menu"
            type="line"
            size="24px"
            margin="0 8px 0 0"
          />
          <Brand hasSidebar={false} />
        </ActionList>
        <ActionList>
          <ActionIcon
            icon="Search"
            action={enterSearchMode}
            tooltip={translate('topNav.tooltips.search')}
            type="line"
            size="24px"
          />
          <ActionIcon
            icon="Plus"
            action={enterAddUrlMode}
            tooltip={translate('topNav.tooltips.saveAUrl')}
            type="line"
            size="24px"
          />
          {this.props.isDiscover ? null : (
            <ActionIcon
              icon="Pencil"
              action={enterBulkEditMode}
              tooltip={translate('topNav.tooltips.bulkEdit')}
              type="line"
              size="24px"
            />
          )}
          <Inbox />
          <Profile
            tooltip={translate('topNav.tooltips.account')}
            isPremium={isPremium}
            profile_uid={profile_uid}
            profile_avatar={profile_avatar}
            profile_first_name={profile_first_name}
            profile_username={profile_username}
            narrow={true}
            activeTheme={activeTheme}
            themeChange={themeChange}
            enterListMode={enterListMode}
            enterGridMode={enterGridMode}
            setSortByOldest={setSortByOldest}
            setSortByNewest={setSortByNewest}
            openWhatsNew={openWhatsNew}
            sort={sort}
            listMode={listMode}
          />
        </ActionList>
      </NavLayout>
    )
  }
}

export const NavMin = withLocalize(NavMinClass)
